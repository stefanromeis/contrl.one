<template>
    <div id="todo-wrapper">
        <div class="comp-header">
            <img class='headicon' src="images/todo.png">
            <h5>TODO</h5>
            <select ref="selectComp" id="selectComp" class="pull-right" value.bind="latest">
                <option repeat.for="component of components" value.bind="component">${component}</option>
            </select>
            <div class="devide">| </div> 
            <button class="glyphicon-plus pull-right" click.delegate="openModal()">
            </button> 
        </div>
        
        <div if.bind="!connected">
            <a class="btn btn-block btn-social btn-facebook" click.delegate="connect()">
                <span class="fa fa-facebook"></span> Login with Facebook
            </a>
            <a class="btn btn-block btn-social btn-google">
                <span class="fa fa-google"></span> Login with Google
            </a>
            <a class="btn btn-block btn-social" click.delegate="loginModalOpen = true">
                <span class="fa fa-envelope-o"></span> Login with Mailadress
            </a>
        </div>

        <div class="data-wrapper" if.bind="connected">
            <span class="notifications" if.bind="notifications > 0">${notifications}</span>
            <div class="data" repeat.for="data of calData">
                <a href="${data.htmlLink}" target="_blank">
                    <div class="title">
                        ${data.start[2]}.${data.start[1]}.${data.start[0].split('20')[1]} |
                        <b>${data.summary}</b>
                    </div>
                    <!--<div class="title">${data.id}</div>-->
                </a>
            </div>
        </div>
        <div class="mod mod-todoLogin" data-keyboard="true" data-backdrop="static" if.bind="loginModalOpen">
            <div class="mod-content">
                <div class="background-img-blurred"></div>
                <div class="mod-text">
                <div class="mod-header">
                    <button type="button" class="close" click.delegate="loginModalOpen = false">  
                    <span aria-hidden="false" >&times;</span></button>
                    <h4 class="modal-title" id="myModalLabel">Login to Contrl.one</h4>
                </div>
                </br>
                <div class="mod-body">
                    <div class="form-group">
                        <label for="example-search-input" class="col-2 col-form-label">E-Mail</label>
                        <input type="email" class="form-control" value.bind="summary" />
                    </div>
                    <div class="form-group">
                        <label for="example-search-input" class="col-2 col-form-label">Password</label>
                        <input type="text" class="form-control" value.bind="location" />
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" click.delegate="loginModalOpen = false">Cancel</button>
                        <button type="submit" class="btn btn-primary" click.delegate="loginWithMail()">Login</button>
                    </div>
                </div>
                </div>
            </div>
        </div> 
    </div>
</template> 